(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0567ccfc"],{"14a5":function(t,e,r){"use strict";var i=r("a3a2"),a=r.n(i);a.a},"159b":function(t,e,r){var i=r("da84"),a=r("fdbc"),o=r("17c2"),n=r("9112");for(var c in a){var s=i[c],l=s&&s.prototype;if(l&&l.forEach!==o)try{n(l,"forEach",o)}catch(f){l.forEach=o}}},"17c2":function(t,e,r){"use strict";var i=r("b727").forEach,a=r("b301");t.exports=a("forEach")?function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},2927:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"movie"},[r("div",[r("van-nav-bar",{attrs:{title:"我的收藏","left-text":"返回","left-arrow":""},on:{"click-left":t.back}})],1),r("div",[r("div",{ref:"moviebox",staticClass:"hoting-box"},t._l(t.currentLikeMovieData,(function(e,i){return r("div",{key:i,ref:"movieitem",refInFor:!0,staticClass:"hoting clearfix",attrs:{id:e.id},on:{click:function(r){return t.viewMovieDetail({name:"movieDetails",params:{id:e.id}})}}},[r("div",{staticClass:"fl post"},[r("img",{staticClass:"auto-img",attrs:{src:e.images.medium,alt:""}})]),r("div",{staticClass:"fl movie-info"},[r("div",{staticClass:"info clearfix"},[r("div",{staticClass:"movie-name one-text fl"},[t._v(t._s(e.title))]),r("div",{staticClass:"score fl"},[t._v(" "+t._s(e.rating.average)+" "),r("span",[t._v("分")])])]),r("div",{staticClass:"date"},[t._v(" "+t._s(e.mainland_pubdate)+" "),r("span",[t._v("上映")])]),r("div",{staticClass:"movie-type one-text"},[t._v(t._s(e.genresInfo))]),r("div",{staticClass:"movie-actor one-text"},[t._v(t._s(e.avatarsInfo))]),r("div",{staticClass:"movie-year"},[t._v(t._s(e.durations[0]))])]),r("div",{staticClass:"fr collection"},[r("span",{staticClass:"fr collection",on:{click:function(r){return r.stopPropagation(),t.deleteLikeMovie(e.id)}}},[r("van-icon",{attrs:{name:"delete"}})],1)])])})),0)])])},a=[],o=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),n=r("2f62");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=Object(n["a"])("likeMovieModule"),f=l.mapState,u={name:"likeMovie",computed:s({},f(["currentLikeMovieData"])),methods:{back:function(){this.$router.go(-1)},viewMovieDetail:function(t){this.$router.push(t)},deleteLikeMovie:function(t){for(var e=this,r=0;r<this.currentLikeMovieData.length;r++)if(t==this.currentLikeMovieData[r].id){this.$store.dispatch("likeMovieModule/deleteLikeMovie",r).then((function(){var t=JSON.parse(localStorage.getItem("user")),r=JSON.parse(localStorage.getItem("likeMovieData"));r[t.username]=e.currentLikeMovieData,localStorage.setItem("likeMovieData",JSON.stringify(r))}));break}}},created:function(){var t=localStorage.getItem("user");if(t){var e=JSON.parse(t);if(e.isLogin){this.$toast.loading({duration:0,message:"加载中..."});var r=localStorage.getItem("likeMovieData");r=r?JSON.parse(r):{};var i=r[e.username];i=i||[],this.$store.commit("likeMovieModule/getCurrentLikeMovieData",i),this.$toast.clear()}else this.$router.push({name:"login"})}else this.$router.push({name:"login"})}},v=u,d=(r("14a5"),r("2877")),b=Object(d["a"])(v,i,a,!1,null,"198a8265",null);e["default"]=b.exports},4160:function(t,e,r){"use strict";var i=r("23e7"),a=r("17c2");i({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4de4":function(t,e,r){"use strict";var i=r("23e7"),a=r("b727").filter,o=r("d039"),n=r("1dde"),c=n("filter"),s=c&&!o((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));i({target:"Array",proto:!0,forced:!c||!s},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},a3a2:function(t,e,r){},ade3:function(t,e,r){"use strict";function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return i}))},b301:function(t,e,r){"use strict";var i=r("d039");t.exports=function(t,e){var r=[][t];return!r||!i((function(){r.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,r){var i=r("23e7"),a=r("7b0b"),o=r("df75"),n=r("d039"),c=n((function(){o(1)}));i({target:"Object",stat:!0,forced:c},{keys:function(t){return o(a(t))}})},dbb4:function(t,e,r){var i=r("23e7"),a=r("83ab"),o=r("56ef"),n=r("fc6a"),c=r("06cf"),s=r("8418");i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,r,i=n(t),a=c.f,l=o(i),f={},u=0;while(l.length>u)r=a(i,e=l[u++]),void 0!==r&&s(f,e,r);return f}})},e439:function(t,e,r){var i=r("23e7"),a=r("d039"),o=r("fc6a"),n=r("06cf").f,c=r("83ab"),s=a((function(){n(1)})),l=!c||s;i({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(t,e){return n(o(t),e)}})}}]);
//# sourceMappingURL=chunk-0567ccfc.5bf9dc2d.js.map